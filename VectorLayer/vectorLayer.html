<html>

<head>
    <title>OpenGlobus - Earth planet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="http://www.openglobus.org/og.css" type="text/css" />
    <script src="http://www.openglobus.org/og.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.0.min.js"></script>
</head>

<body>
    <div id="globus" style="width:100%;height:70%"></div>
    <script>
        var osm = new og.layer.XYZ("OpenStreetMap", {
            specular: [0.0003, 0.00012, 0.00001],
            shininess: 20,
            diffuse: [0.89, 0.9, 0.83],
            isBaseLayer: true,
            url: "http://b.tile.openstreetmap.org/{z}/{x}/{y}.png",
            visibility: true,
            attribution: 'Data @ OpenStreetMap contributors, ODbL'
        });

        globus = new og.Globus({
            "target": "globus",
            "name": "Earth",
            "controls": [
                og.control.mouseNavigation(),
                og.control.touchNavigation(),
                og.control.zoomControl(),
                og.control.earthCoordinates(),
                og.control.sun()
            ],
            "terrain": new og.terrainProvider.TerrainProvider("OpenGlobus"),
            "layers": [osm]
        });

        $.getJSON("countries.json", function (data) {
            var countries = new og.layer.Vector("Countries", {
                'visibility': true,
                'isBaseLayer': false,
                'diffuse': [0, 0, 0],
                'ambient': [1, 1, 1]
            });

            countries.addTo(globus.planet);

            var f = data.features;
            for (var i = 0; i < f.length; i++) {
                var fi = f[i];
                countries.add(new og.Entity({
                    'geometry': {
                        'type': fi.geometry.type,
                        'coordinates': fi.geometry.coordinates,
                        'style': {
                            'fillColor': "rgba(255,255,255,0.6)"
                        }
                    }
                }));
            }

            countries.events.on("mouseleave", function (e) {
                e.pickingObject.geometry.setFillColor(1, 1, 1, 0.6);
                e.pickingObject.geometry.setLineColor(0.2, 0.6, 0.8, 1.0);
            });
            countries.events.on("mouseenter", function (e) {
                e.pickingObject.geometry.bringToFront();
                e.pickingObject.geometry.setFillColor(1, 0, 0, 0.4);
                e.pickingObject.geometry.setLineColor(1, 0, 0, 1.0);
            });
            countries.events.on("lclick", function (e) {
                globus.planet.flyExtent(e.pickingObject.geometry.getExtent());
            });
            countries.events.on("touchstart", function (e) {
                globus.planet.flyExtent(e.pickingObject.geometry.getExtent());
            });
        });
    </script>
</body>

</html>